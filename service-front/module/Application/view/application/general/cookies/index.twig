{% extends 'layout/layout.twig' %}

{%- set pageTitle = 'Cookies' -%}

{% import "application/macros.twig" as macros %}

{% set usageCookies = form.get('usageCookies') %}

{% block content %}
    <div class="govuk-grid-row">
        <div class="govuk-grid-column-full">
            <p>Cookies are files saved on your phone, tablet or computer when you visit a website.</p>
            <p>We use cookies to make this work and collect information about how you use our service.</p>

            <h2 class="govuk-heading-m">Essential cookies</h2>
            <p>
                Essential cookies keep your information secure while you use this service.
                We do not need to ask permission to use them
            </p>

            <table class="govuk-table">
            <thead class="govuk-table__head">
                <tr class="govuk-table__row" >
                    <th scope="col" class="govuk-table__header">Name</th>
                    <th scope="col" class="govuk-table__header">Purpose</th>
                    <th scope="col" class="govuk-table__header">Expires</th>
                </tr>
            </thead>
            <tbody class="govuk-table__body">
                <tr class="govuk-table__row">
                    <td class="govuk-table__cell">lpa2</td>
                    <td class="govuk-table__cell">Used to keep you signed in</td>
                    <td class="govuk-table__cell">1 hour</td>
                </tr>
                <tr class="govuk-table__row">
                    <td class="govuk-table__cell">cookie_policy</td>
                    <td class="govuk-table__cell">Saves your cookie consent settings</td>
                    <td class="govuk-table__cell">1 year</td>
                </tr>
                <tr class="govuk-table__row">
                    <td class="govuk-table__cell">seen_cookie_message</td>
                    <td class="govuk-table__cell">Confirms you have seen the cookie options</td>
                    <td class="govuk-table__cell">1 year</td>
                </tr>
            </tbody>
            </table>
        </div>
    </div>
    <div class="govuk-grid-row">
        <div class="govuk-grid-column-full">
            <h2 class="govuk-heading-m">Analytics cookies (optional)</h2>
            <p>
                OPG and Government Digital Services use Google Analytics to measure how you use the service so we can improve it
                based on user needs.
            </p>
            <p>Google is not allowed to use or share our analytics data with anyone.</p>
            <p>Google Analytics stores anonymised information about:</p>
            <ul class="govuk-list govuk-list--bullet">
                <li>What pages you visit and how long you spend on each</li>
                <li>What you click on while you're visiting the site</li>
            </ul>
        </div>
    </div>
    <div class="govuk-grid-row">

        <div id="js-warning" class="govuk-grid-column-full">
            <p class="govuk-body">We cannot change your cookie settings at the moment because JavaScript is not running in your browser. To fix this, try:</p>
            <ul class="govuk-list govuk-list--bullet">
                <li>turning on JavaScript in your browser settings</li>
                <li>reloading this page</li>
            </ul>
        </div>

        <div class="govuk-grid-column-full hide-if-no-js">
            {# begin form #}
            {{ form.prepare() ? '' }}
            {{ form().openTag( form )|raw }}
            {{ formElement(form.getCsrf) }}
            <div class="form-group">
                <fieldset data-cy="cookies-fieldset">
                    <legend id="id-usage-cookies">
                        <h3 class="govuk-heading-m">Do you want to accept analytics cookies?</h3>
                        <span class="visually-hidden question-text">Do you want to accept analytics cookies?</span>
                    </legend>
                    {{ formRadio(usageCookies) }}
                </fieldset>
            </div>
            {{ form().closeTag|raw }}

            <div class="form-group">
                <input class="button" type="submit" value="Save changes" data-cy="cookies-save">
            </div>
        </div>
    </div>
{% endblock content %}
