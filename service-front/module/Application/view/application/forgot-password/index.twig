{% extends 'layout/twig/layout.twig' %}

{% block errorSummary %}
    {% include 'application/forgot-password/partials/index-error-summary.twig' %}
{% endblock %}

{% block pageTitle %}
    Reset your password
{% endblock %}

{% block content %}

{% set form = formErrorTextExchange(form, []) %}

{% set email = form.get('email') %}
{% set email_confirm = form.get('email_confirm') %}

{{ email.setAttributes({
    id: 'email',
    autocomplete: 'off',
    class: 'form-control'
}) ? ''}}

{{ email.setOptions({ label: 'Email' }) ? '' }}

{{ email_confirm.setAttributes({
    id: 'email_confirm',
    autocomplete: 'off',
    class: 'form-control'
}) ? ''}}

{{ email_confirm.setOptions({ label: 'Please re-enter your email address' }) ? '' }}

{{ form.prepare() ? '' }}

<div class="text">
    <p>Enter your email address below. If there's an account associated with the address, we'll send you a link to reset your password.</p>
</div>

{{ form().openTag( form )|raw }}

    {{ formElement(form.get( form.csrfName )) }}

    <fieldset>
        <legend class="visuallyhidden">Reset your password</legend>

        <div class="form-group {{ email.getMessages|length >0 ? 'error'}}">
            <label class="form-label" for="{{ email.getAttribute('id') }}">
                <span class="form-label-bold">{{ email.getOption('label') }}</span>
                {{ formElementErrorsV2(email) }}
            </label>
            {{ formElement(email) }}
        </div>

        <div class="form-group {{ email_confirm.getMessages|length >0 ? 'error'}}">
            <label class="form-label" for="{{ email_confirm.getAttribute('id') }}">
                <span class="form-label-bold">{{ email_confirm.getOption('label') }}</span>
                {{ formElementErrorsV2(email_confirm) }}
            </label>
            {{ formElement(email_confirm) }}
        </div>

        <div class="form-group">
            <input type="submit" name="submit" id="form-submit" class="button" value="Email me the link">
        </div>

    </fieldset>

{{ form().closeTag|raw }}

{% endblock content %}